<div *ngIf="rifles.length > 0">
  <form class="container">

    <!-- Kolor kolby – zawsze widoczny -->
    <mat-form-field appearance="fill" style="width: 100%;">
      <mat-label>Kolor Kolby</mat-label>
      <mat-select
        [value]="state.selectedStockColorSynthetic"
        [compareWith]="compareOptionsById"
        (selectionChange)="onSelectStockColorSynthetic($event.value)"
        placeholder="Wybierz kolor kolby"
      >
        <mat-option *ngFor="let color of stockColors" [value]="color">
          <div class="option-template">
            <img [src]="color.iconImageUrl" alt="{{ color.name }}" />
            <span>{{ color.name }}</span>
          </div>
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Inlay – tylko jeśli dostępny 
    <mat-form-field appearance="fill" style="width: 100%;" *ngIf="shouldShowOption('StockInlaysSynthetic')">
      <mat-label>Inlay Kolby</mat-label>
      <mat-select
        [value]="state.selectedStockInlaySynthetic"
        (selectionChange)="onSelectStockInlaySynthetic($event.value)"
        [compareWith]="compareOptionsById"
        placeholder="Wybierz inlay"
      >
        <mat-option *ngFor="let inlay of stockInlays" [value]="inlay">
          <div class="option-template">
            <img [src]="inlay.iconImageUrl" alt="{{ inlay.name }}" />
            <span>{{ inlay.name }}</span>
          </div>
        </mat-option>
      </mat-select>
    </mat-form-field>-->

    <!-- Recoil Pad -->
    <mat-form-field appearance="fill" style="width: 100%;" *ngIf="shouldShowOption('RecoilPadsSynthetic')">
      <mat-label>Stopka</mat-label>
      <mat-select
        [value]="state.selectedRecoilPadSynthetic"
        [compareWith]="compareOptionsById"
        placeholder="Wybierz stopkę"
        [disabled]="state.isDisabledRecoilPadSynthetic"
        (selectionChange)="onSelectRecoilPadSynthetic($event.value)"
      >
        <mat-option *ngFor="let pad of recoilPads" [value]="pad">
          <div class="option-template">
            <img [src]="pad.iconImageUrl" alt="{{ pad.name }}" />
            <span>{{ pad.name }}</span>
          </div>
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Modular -->
    <mat-form-field appearance="fill" style="width: 100%;" *ngIf="shouldShowOption('ModularStockOptionsSynthetic')">
      <mat-label>Moduł kolby</mat-label>
      <mat-select
        [value]="state.selectedModularStockOptionSynthetic"
        [compareWith]="compareOptionsById"
        placeholder="Wybierz moduł"
        [disabled]="state.isDisabledModularStockOptionSynthetic"
        (selectionChange)="onSelectModularStockOptionSynthetic($event.value)"
      >
        <mat-option *ngFor="let option of modularStockOptions" [value]="option">
          <div class="option-template">
            <img [src]="option.iconImageUrl" alt="{{ option.name }}" />
            <span>{{ option.name }}</span>
          </div>
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Kickstop -->
    <mat-form-field appearance="fill" style="width: 100%;" *ngIf="shouldShowOption('KickstopsSynthetic')">
      <mat-label>Kickstop</mat-label>
      <mat-select
        [value]="state.selectedKickstopSynthetic"
        [compareWith]="compareOptionsById"
        placeholder="Wybierz kickstop"
        [disabled]="state.isDisabledModularStockOptionSynthetic"
        (selectionChange)="onSelectKickstopSynthetic($event.value)"
      >
        <mat-option *ngFor="let kick of kickstops" [value]="kick">
          <div class="option-template">
            <img [src]="kick.iconImageUrl" alt="{{ kick.name }}" />
            <span>{{ kick.name }}</span>
          </div>
        </mat-option> 
      </mat-select>
    </mat-form-field>

  </form>

  <div class="button-container">
    <button class="back-button" (click)="onBack()">← Cofnij</button>
    <button class="next-button" (click)="onNext()">Dalej →</button>
  </div>
</div>

<div *ngIf="rifles.length === 0">
  <p>Brak danych do wyświetlenia.</p>
</div>
