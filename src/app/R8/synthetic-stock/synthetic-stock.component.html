<div *ngIf="rifles.length > 0">
  <form class="container">

    <!-- Kolor kolby -->
    <mat-form-field appearance="fill" style="width: 100%;" *ngIf="stockColor.length">
      <mat-label>Kolor Kolby</mat-label>
      <mat-select
        [value]="state.selectedStockColorSynthetic"
        (selectionChange)="onSelectStockColorSynthetic($event.value)"
        [compareWith]="compareOptionsById"
        placeholder="Wybierz kolor kolby"
      >
        <mat-option *ngFor="let color of stockColor" [value]="color">
          <div class="option-template">
            <img [src]="color.imageUrl" alt="{{ color.name }}" />
            <span>{{ color.name }}</span>
          </div>
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Stock Inlay -->
    <mat-form-field appearance="fill" style="width: 100%;" *ngIf="stockInlays.length">
      <mat-label>Inlay Kolby</mat-label>
      <mat-select
        [value]="state.selectedStockInlaySynthetic"
        (selectionChange)="onSelectStockInlaySynthetic($event.value)"
        [compareWith]="compareOptionsById"
        [disabled]="state.isDisabledStockInlaySynthetic"
        placeholder="Wybierz inlay"
      >
        <mat-option *ngFor="let inlay of stockInlays" [value]="inlay">
          <div class="option-template">
            <img [src]="inlay.imageUrl" alt="{{ inlay.name }}" />
            <span>{{ inlay.name }}</span>
          </div>
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Modular Stock Option -->
    <mat-form-field appearance="fill" style="width: 100%;" *ngIf="modularStockOptions.length">
      <mat-label>Moduł kolby</mat-label>
      <mat-select
        [value]="state.selectedModularStockOptionSynthetic"
        (selectionChange)="onSelectModularStockOptionSynthetic($event.value)"
        [compareWith]="compareOptionsById"
        [disabled]="state.isDisabledModularStockOptionSynthetic"
        placeholder="Wybierz moduł"
      >
        <mat-option *ngFor="let option of modularStockOptions" [value]="option">
          <div class="option-template">
            <img [src]="option.imageUrl" alt="{{ option.name }}" />
            <span>{{ option.name }}</span>
          </div>
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Recoil Pad -->
    <mat-form-field appearance="fill" style="width: 100%;" *ngIf="recoilPads.length">
      <mat-label>Stopka</mat-label>
      <mat-select
        [value]="state.selectedRecoilPadSynthetic"
        (selectionChange)="onSelectRecoilPadSynthetic($event.value)"
        [compareWith]="compareOptionsById"
        [disabled]="state.isDisabledRecoilPadSynthetic"
        placeholder="Wybierz stopkę"
      >
        <mat-option *ngFor="let pad of recoilPads" [value]="pad">
          <div class="option-template">
            <img [src]="pad.imageUrl" alt="{{ pad.name }}" />
            <span>{{ pad.name }}</span>
          </div>
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Kickstop -->
    <mat-form-field appearance="fill" style="width: 100%;" *ngIf="kickstops.length">
      <mat-label>Kickstop</mat-label>
      <mat-select
        [value]="state.selectedKickstopSynthetic"
        (selectionChange)="onSelectKickstopSynthetic($event.value)"
        [compareWith]="compareOptionsById"
        [disabled]="state.isDisabledKickstopSynthetic"
        placeholder="Wybierz kickstop"
      >
        <mat-option *ngFor="let kick of kickstops" [value]="kick">
          <div class="option-template">
            <img [src]="kick.imageUrl" alt="{{ kick.name }}" />
            <span>{{ kick.name }}</span>
          </div>
        </mat-option>
      </mat-select>
    </mat-form-field>

  </form>

  <div class="button-container">
    <button class="back-button" (click)="onBack()">← Cofnij</button>
    <button class="next-button" (click)="onNext()">Dalej →</button>
  </div>
</div>

<div *ngIf="rifles.length === 0">
  <p>Brak danych do wyświetlenia.</p>
</div>
